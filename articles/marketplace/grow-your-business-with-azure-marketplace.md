---
title: Go-to-Market Benefits on the marketplace | Azure
description: GTM benefits for the Azure Marketplace and AppSource are for app and service publishers
services: Azure, Marketplace, Compute, Storage, Networking, Blockchain, Security
documentationcenter:
author: ellacroi
manager: nunoc
editor:

ms.assetid: 
ms.service: marketplace
ms.workload: 
ms.tgt_pltfrm: 
ms.devlang: 
ms.topic: article
ms.date: 07/05/2018
ms.author: ellacroi

---

# Grow your business on marketplace 
After you have published your offer on AppSource or Azure Marketplace, you can use your listing as a launchpad for joint go-to-market (GTM) activities with Microsoft. Driving traffic to your marketplace offer and nurturing marketplace leads, for example, are great ways to accelerate your business growth. In this article, we will share many marketing best practices to grow your business on marketplace.

## App listing best practices

The following tables provide suggestions on creating an engaging marketplace offer. You will use the [Cloud Partner Portal](https://cloudpartner.azure.com/#insights) to write and configure these marketing materials. 


### Offer identity

### Storefront details > Offer details
| Storefront Settings | Best Practices |
|:--- |:--- |  
| Offer Name | Provide a strong title:<br />Your app name should communicate the core value customers receive. Including search keywords in your app title can also help your app to be ranked higher in search engine results.<br /> <br />Consulting service listings should follow a set title format: [Offer Name]: [Duration] [Offer Type], e.g. Contoso: 2-Week Implementation<br /> <br />Adhere to brand guidelines:<br />Please follow the Microsoft Trademark and Brand Guidelines as well as relevant product-specific guidelines when referring to Microsoft trademarks and the names of Microsoft, software, products, and services.<br />For more information about Microsoft trademarks and branding, visit the [Microsoft Trademark and Brand Guidelines page](https://www.microsoft.com/legal/intellectualproperty/trademarks/usage/general.aspx). |
| Offer Description | Provide a good offer description<br />Clearly describe the value proposition of your offer in the first few sentences of your description. Keep in mind that the first few sentences might be displayed in search engine results. Do not rely on features and functionality to sell your product. Instead, focus on the value you deliver. Use industry-specific vocabulary or benefit-based wording as much as possible.<br />Core components of your value proposition should include the following information:<br /> - Description of the product<br /> - Type of user who will benefit<br /> - Customer need or pain does it addresses |

### Storefront details > Listing details
| Storefront Settings | Best Practices |
|:--- |:--- |  
| Industries: AppSource apps and consulting services only | Select industries if your offer addresses industry-specific requirements. Make sure to call out these industry-specific capabilities in your offer’s description.<br /> <br />Note: the maximum number of options varies by offer type and will be indicated in the Cloud Partner Portal. |
| Categories | Select categories that align best with your offer. Choose these categories carefully as customers use the categories to search for relevant apps. Make sure to call out how your offer supports category-specific needs in the offer description.<br /> <br /> Note: the maximum number of options varies by offer type and will be indicated in the Cloud Partner Portal. |
| Products your app works with (max 3): AppSource apps only | List additional products and technologies that your solution uses or extends, e.g. Azure IOT Hub, Azure Machine Learning, etc. |
| Search keywords (max 3) | Search keywords help business users find your offer when searching in Azure Marketplace and AppSource or by using search engines. Identity the top three search keywords for your offer; incorporate the search keywords in your offer summary, description; and list the search keywords here. |

### Storefront details > Marketing artifacts
| Storefront Settings | Best Practices |
|:--- |:--- |  
| Offer logo (.png format, 48x48) | Your logo should be designed and optimized for a digital medium. Upload logo in PNG format for the search page of your offer. |
| Offer logo (.png. 216 x 216) | Your logo should be designed and optimized for a digital medium. Upload logo in PNG format for the app details listing page of your offer. |
| Learn more/Documents | Include supporting sales and marketing assets under “Learn more,” e.g., white papers, brochures, checklists, PowerPoints, etc. All files should be in PDF format. Your goal with these documents should be to educate customers, not sell them.<br /> <br />Add the link to your app landing page to all your documents and add URL parameters to help you track visitors and trials. |
| Videos: AppSource, consulting services, and SaaS offers only | The strongest videos communicate the value of your offer in narrative form. Make the customer the hero of the story, not your company. Your video should speak to the principal challenges and goals of your target customer.<br /> <br />Recommended length: 60-90 seconds.<br /> <br />Incorporate key search words in the name of the videos.<br /> <br />Consider adding additional videos, such as a how-to, getting started video, or customer testimonial video. |
| Screenshots (1280x720) | Add up to five screenshots; incorporate key search words in the names. |

## Marketing Best Practices 

To help you maximize the benefit of listing on marketplace, we collected the following best practices for marketing your offers on AppSource and Azure Marketplace. First, be sure to review the marketing best practices and resources on The Microsoft Partner Network (MPN). This is your gateway for all marketing and programmatic resources related to partnering with Microsoft.<br /> <br />In addition, the quality of your marketplace offer and your commitment to customer-centric demand generation help drive growth for your business. Engaging in these activities helps Microsoft amplify your go-to-market work and feature key solutions across the storefronts on the marketplace.<br /> <br />Once you’ve created a great listing, the following marketing initiatives will help you grow your business:

*   Build a strong value proposition.<br />Identify who your potential customer is and the key differentiators of your solution.

*   Create a unique landing page on your site to make your app listing stand out.<br />Drive traffic from there to your offer and make a great first impression. Based on your offer listing, customers decide if they want to learn more and try your solutions.

*   Enable a test drive or other trial experience.<br />Users want to experience your app first hand. Publishers have historically seen much higher lead conversion from a listing with a test driver or trial.

*   Optimize your listing to help boost search engine rankings.<br />Incorporate search keywords in your app name, summary and listing, and include search keywords in the three search keywords. 

*   Enable lead sharing.<br />Receive the contact information of your customer when they try your app right in your CRM system. Make sure you have a process in place to follow up on these leads.

*   Build your demand generation plan.<br />Use your marketplace offer listing as the landing page for marketing calls-to-action. Once on your offer’s marketplace listing, every time a customer trials, test drives, or deploy your offer, you receive their name and contact information if you have enabled lead sharing.

*   Promote your app on AppSource and/or Azure Marketplace.<br />Link to your app listing and use URL tagging every time you link to your app.

*   Create marketing and promotion campaigns.<br />Plan and build campaigns drive awareness and engagement with a clear call-to-action that directs traffic to your marketplace listing.

*   Get customer feedback.<br />Remind your customers to submit a rating and review. Users receive an email to share the experience of your customers after they started a trial.

*   Get actionable insights.<br />View the Insights dashboard in the [Cloud Partner Portal](https://cloudpartner.azure.com/#insights). Track how many visitors your app listing gets, and how many try your app. Learn details about the performance of your marketing campaigns and which content performs best.

*   Use Go-To-Market services benefits.<br />Take full advantage of our Go-To-Market services. [Learn more about benefits](https://partner.microsoft.com/reach-customers/gtm) available through the Microsoft Partner Network (MPN).

## Build an effective marketing campaign

A marketing campaign is a series of promotional activities or marketing tactics aimed at driving your audience to a desired action or outcome. Before you design your campaign, considering the following best practices:

### Know your audience
First, determine the actual buyer versus the purchase influencer. They may be different people within an organization, and your tactics and calls-to-action for each group may differ. Ask these evaluation questions to help you better understand your audience:

*   How much control does the buyer have over the purchasing decision?
*   How much influence does the influencer have?
*   What does the influencer influence?
*   Do they influence budget or which solution is picked?

Knowing the answers to these questions helps you make decisions about where to invest your sales and marketing resources.

### Define where your audience learns
These days typical customers are most of the way through their journey by the time they visit a marketplace. Buyers get this far in the decision-making process by learning about solutions and assessing options in advance. You want to design a campaign that aims to be where your buyers and influencers learn about solutions well before they consider purchasing one.<br /> <br />Every audience for each industry, vertical, or category is different. Does your audience learn online, through email, at trade shows, through social media, or through conversations with trusted advisors? Depending on where and how your audience learns, you should design activities and distribute your marketing dollars accordingly. The combination of these tactics becomes your campaign strategy.

### Create clear campaign goals
You should define success for your campaign on the marketplace and create clear key performance indicators (KPIs). You may run multiple campaigns with different end goals, of course. The ultimate end-goal is typically increased revenue or customer acquisition; however, your marketing campaigns might be tied to goals at other stages of the buying cycle. Here are a few examples: 

*   You have newly launched your product in the marketplace. In this case, you might find that your marketing resources are best spent on audience education and lead generation. Success might be defined by the number of leads generated from your marketplace listing. In this case, your marketing tactics (and landing page) would focus on drawing customers to your marketplace listing.
*   You have a trial set up in the marketplace and your product requires some level of engagement and experience before purchase. Consider a campaign goal of the number of trials downloaded. In this case, the call-to-action for your campaign tactics would focus sharply on encouraging a trial in the marketplace.
*   Your product or category is well known, and you have purchase capabilities set up in the marketplace. Consider skipping the trial call-to-action and direct your audience to your "Get It Now" link in the marketplace.
*   Your offer is established and mature. Consider focusing your campaign efforts on upselling your customer base and driving action toward increased purchase in the marketplace. Your messaging would focus on encouraging customers to purchase through the marketplace. Your KPI could be the revenue generated through the marketplace.

Whatever the maturity of your offer and the goals of your organization, the following are keys to maximizing the effectiveness of your campaign:
*   Remain focused on its goal(s)
*   Map out a set of integrated marketing tactics aligned to this goal

As part of being a new publisher on marketplace, Microsoft offers you some free marketplace go-to-market benefits. You should think critically about how to use these benefits in your campaign strategy. Let our marketing team know your marketplace campaign goals and your desired audience action. Microsoft may customize these deliverables to work into your plan.

Be sure to engage in the [Smart Partner Marketing program](https://partner.microsoft.com/smart-partner-marketing), a benefit of joining the Microsoft Partner Network, for additional content on campaign building and marketing practices

### Invest in merchandising
As part of the publishing process, you should consider what type of offer to create and choose a category for your offer in AppSource or Azure Marketplace. Make sure you select a category that is accurate for your solution so that it is displayed accurately to potential customers.<br /> <br />Marketplace featured offers are chosen based on which offers provide the best customer experience and take advantage of high-quality partner marketing engagement. The following criteria increases the chance of your solution be part of marketplace featured offers:
*   Clarity of the listing
*   Quality of the solution
*   Reliability of the technology
*   Growth of platform usage by your customers
*   Your level of engagement with creating high-quality marketing material

To maximize the chances that your offer is featured, you should invest in the success of your marketplace offering. Consider the following approaches to ensure a great customer experience for your offer:
*   Ensure that your marketing artifacts are uploaded and displaying correctly.
*   Drive high-quality traffic to your offer in marketplace by creating high-quality demand generation campaigns.
*   Grow the consumption of your AppSource or Azure Marketplace offers by driving demand, providing high-quality customer service, and providing timely updates on your offer.

For more information about how featured offers fit in the context of your go-to-market benefits, visit the [GTM Benefits](https://review.docs.microsoft.com/azure/marketplace/gtm-benefits) on the marketplace page.

#### Merchandising Badge
When your offer is listed on AppSource or Azure Marketplace, you have earned the benefit of displaying the _Available on AppSource_ or _Available on Azure Marketplace_ badge on your website.<br /> <br />The AppSource badge is available in three sizes. You can download the badge along with guidance on how to use it at [Promote the availability of your app on Microsoft AppSource](https://appsource.microsoft.com/blogs/promote-your-app-s-availability-on-microsoft-appsource).<br /> <br />The Azure Marketplace badge is provided as part of your free [go-to-market benefits](https://review.docs.microsoft.com/azure/marketplace/gtm-benefits?branch=master).

### Linking to your app listing page on marketplace from your website
When you link from the AppSource or Azure Marketplace badge on your site to your listing on marketplace, include the following query parameters at the end of the URL to support strong analytics and reporting:
*   src<br />Include the source from where the traffic is routed to AppSource, e.g. website, LinkedIn, Facebook, etc.
*   mktcmpid<br />Your marketing campaign ID, which can include up to 16 characters using any combination of letter, number, underscore, and hyphen, e.g. blogpost_12
The following example shows a URL that includes the two query parameters. Adding the parameters to your AppSource URL enables you to review the effectiveness of your campaign in the analytics dashboard in the [Cloud Partner Portal](http://cloudpartner.azure.com/#insights): <https://appsource.microsoft.com/product/dynamics-365/mscrm.04931187-431c-415d-8777-f7f482ba8095?src=website&mktcmpid=blogpost_12>

## Analytics and Reporting

In the Insights section of the [Cloud Partner Portal](http://cloudpartner.azure.com/#insights), you see a high-level performance overview for your offer. The best practice for the information in these reports is to reconcile it with your internal data. Use it to help prioritize your marketing campaign actions.

The Analytics section of [Cloud Partner Portal](http://cloudpartner.azure.com/#insights) (currently in preview and available only for AppSource offers) provides a rich Power BI dashboard. You can use the dashboard to see traffic on the detail page of your offer. New features for this dashboard are rolled out in an ongoing way.

Also, in the [Cloud Partner Portal](http://cloudpartner.azure.com/#insights) is documentation on Microsoft campaigns. You may use the Microsoft campaigns documentation to set up and track your campaign.

The following reports are included in the high-level performance overview section:
*   Summary snapshot of orders
*   Usage
*   Deployments
*   Customer trends on the Insights home page
*   Detailed orders, usage, and customer data
*   Orders and usage shown as a monthly summary or as a six-month trend view
*   Usage and orders sliced by several criteria

Detailed reports display customer information, such as company name and geographic location at the postal code level. Consider using this information to compare your customers or compensate your sellers. Microsoft provides the following specific attributes about your customers:
*   Reseller
*   First Name
*   Last Name
*   Email
*   Company Name
*   Transaction Date
*   Subscription Name
*   Azure Subscription ID (pay-as-you-go customers only)
*   Cloud Instance Name
*   Order Count
*   Customer Country Region
*   Customer City
*   Customer Communication Culture
*   Customer Zip Code

## Enable Lead Sharing 
Nurturing leads from marketplace is a key enabler for successful engagement with marketplace users. Start by ensuring that lead management is enabled for your listing and configured correctly in your company CRM system of choice, so that you receive the signals and contact information for the users interacting with your listing in a queue to be processed for qualification. 
Use the following practices for your leads:
*   Enrich marketplace leads with additional data from your marketing and sales databases. A marketplace customer may already be in one of your lead nurture systems due to a prior marketing campaign or as an existent customer. 
*   Score leads and use different nurture paths for different actions on marketplace. A customer testing your application is in a different stage than someone initiating a purchase, for example.
*   Process leads data frequently. Recency of engagement with customers is a key driver for success. 
*   Nurturing your leads via email or inside/pre-sales to ensure proper qualification before entering a sales pipeline.
*   Align your efforts with your overall marketing campaign strategy.
For more information about how to access the Co-Sell program, visit the [Promote Your Business with Microsoft](https://docs.microsoft.com/azure/marketplace/promote-your-business-with-microsoft) page.

## GTM Benefits on the Marketplace

New listings in the storefronts on the marketplace are eligible to receive free Marketplace GTM benefits. After listing, marketing specialists at Microsoft contact you or your marketing contact to kick-start the activities. There is nothing for you to do except to engage with Microsoft when you are contacted.

The activities that Microsoft provides differ depending on your solution status on the marketplace. Benefits significantly increase for listings.

| Storefront | Additional Benefits Available |
|:--- |:--- |   
| AppSource | <table> <tr><td>Microsoft Gold partners</td></tr> <tr><td>Trial apps</td></tr> </table> |  
| Azure Marketplace | <table> <tr><td>Transact offers</td></tr> <tr><td>Trial offers</td></tr> </table> | 


To maximize the impact of these activities, Microsoft encourages you to have your launch plan ready to implement. You might want to use your landing page for many of your launch tactics.

Your go-to-market support includes templates, web content, training, and tools to promote your business.
*   For more information about go-to-market support, visit [Microsoft Go-To-Market Services](https://partner.microsoft.com/reach-customers/gtm).

## Promote Your Business with Microsoft
Microsoft has the goal to support publishers like you and simplify selling your app or offer in the storefronts on the marketplace. By listing on the marketplace, you access additional, free marketing and sales programs and resources.

If you have not already signed up to the Microsoft Partner Network (MPN), then this sign before continuing.
*   For more information about MPN, visit the Microsoft Partner Network page located at partner.microsoft.com.

MPN provides guidance on the following topics.
*   New business opportunities
*   Connecting with teams or partners
*   Solutions and training to help grow your skillset

To promote your offer or app, use the following table to access more benefits and resources:

| Benefits | Resources |
|:--- |:--- |
| Use your Core Benefits | As part of the Microsoft Partner Network, you receive a set of core benefits that may help you save time and money. The benefits may also help you strengthen your capabilities, better serve customers, and build connections to reach your full business potential.<br /> For more information about core benefits, visit [Core Benefits and Requirements](http://partner.microsoft.com/membership/core-benefits). |
| Earn your Cloud Platform Competency | Earning a competency helps you differentiate yourself among other Microsoft partners. Earning a competency also helps you demonstrate technical expertise and customer success in the market. Competency is a prerequisite for many key partner programs like Co-Sell.<br /> For more information about Cloud Platform competency, visit [Cloud Platform Competency](https://partner.microsoft.com/membership/cloud-platform-competency). |
| Become IP Co-Sell Ready | You may be eligible for the IP Co-Sell Ready program, which allows you to collaborate directly with Microsoft sellers and other partners on target customer opportunities and account planning. Your solution becomes visible to Microsoft sellers in the seller solution catalog. Microsoft sellers are rewarded for collaborating and winning with you.<br /> For more information about Co-Sell readiness, including eligibility requirements, visit [Promote Your Business](https://partner.microsoft.com/reach-customers/promote-your-business). |


## Azure Partner Customer Usage Attribution

As a software partner for Azure your solutions either require Azure components or is deployed directly on Azure infrastructure.  Today, when an partner solution is deployed by the customer and uses Azure resources provisioned by the customer, it is difficult for the partner to gain visibility to the status of those deployments and difficult to get optics into impact to Azure growth for alignment with the Microsoft sales teams and credit for Microsoft partner programs.   

Microsoft is creating a new method to help partners better track Azure usage that is a result of a customer deploying your software on Azure. This new method is based on using Azure Resource Manager to orchestrate deployment of Azure services.

As a Microsoft partner, you can associate Azure usage with any Azure resources you provision on a customer's behalf.  This can be done via the Azure Marketplace, the QuickStart repo, private github repos and even 1 on 1 customer engagements.  To enable this, there are two approaches available:

 1. Azure Resource Manager Templates: Azure Resource Manager templates or solution templates to deploy the Azure services to run the partner’s software. Partners can create Azure Resource Manager template that defines the infrastructure and configuration of your Azure solution. Creating an Azure Resource Manager template allows you and your customers repeatedly deploy your solution throughout its lifecycle and have confidence your resources are deployed in a consistent state. 

 2. Azure Resource Manager APIs: partners can call the Azure Resource Manager APIs directly to either deploy an Azure Resource Manager template or to generate the API calls to directly provision Azure services. 

## Method 1: Azure Resource Manager Templates 
Today many partner solutions are deployed on a customer’s subscription using Azure Resource Manager templates.  If you already have a Azure Resource Manager template available in the Azure Marketplace, on GitHub or as a QuickStart, the process of modifying your template to enable this new tracking method should be straight forward.  If you are not using an Azure Resource Manager template today here are a few links to help you better understand Azure Resource Manager templates and how to create one: 

*	[Create and deploy your first Azure Resource Manager template](https://docs.microsoft.com/en-us/azure/azure-resource-manager/resource-manager-create-first-template)
*	[Guide to create a solution template for Azure Marketplace](https://docs.microsoft.com/en-us/azure/marketplace-publishing/marketplace-publishing-solution-template-creation)

## Instructions: add a GUID to your existing Azure Resource Manager template

Adding the GUID is a single modification of the main template file:
 1. Create a GUID, let's say that the generated value is eb7927c8-dd66-43e1-b0cf-c346a422063
 2. Open the Azure Resource Manager template
 3. Add a new resource in the main template file. The resource only needs to be in the mainTemplate.json or azuredeploy.json, not in any nested or linked templates.
 4. Enter the GUID after the “pid-” as shown above.

   It should look something like this example:
   `pid-eb7927c8-dd66-43e1-b0cf-c346a422063`

 5. Check template for any errors
 6. Republish the template in the appropriate repositories

## Sample Template Code

```

{ // add this resource to the mainTemplate.json (do not add the entire file)
      "apiVersion": "2018-02-01",
      "name": "pid-XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX", // use your GUID here
      "type": "Microsoft.Resources/deployments",
      "properties": {
        "mode": "Incremental",
        "template": {
          "$schema": "https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
          "contentVersion": "1.0.0.0",
          "resources": []
        }
      }
    } // remove all comments from the file when done

```

## Method 2: Azure Resource Manager APIs

In some cases, partners prefer to make calls directly against the Azure Resource Manager REST APIs to deploy Azure services. [Azure supports multiple SDKs](https://docs.microsoft.com/en-us/azure/#pivot=sdkstools) to enable this.  You can use one of the SDKs, or call the REST APIs directly to deploy resources.

If you are using an Azure Resource Manager template, you should tag your solution using the instructions above.  If you are not using an Azure Resource Manager template and making direct API calls you can still tag your deployment to associate usage of Azure resources. 

**How to tag a deployment using the Azure Resource Manager APIs:**
For this approach, when designing your API calls you will include a GUID in the user agent header in the request. The GUID should be added for each Offer or SKU.  The string will need to be formatted with the prefix pid- and then include the partner generated GUID.   

>[!Note] 
>GUID format for insertion into the user agent: 
pid-eb7927c8-dd66-43e1-b0cf-c346a422063     // enter your GUID after the “pid-“

The format of the string is important. If the prefix “pid-” is not included we will not be able to query the data. Different SDKs do this differently.  To implement this method you will need to review the support and approach for your preferred Azure SDK. 

**Example using the Python SDK:**
For Python, you need to use the “config” attribute. You can only add to a UserAgent (we still want some kind of control). This would be:

```python

client = azure.mgmt.servicebus.ServiceBusManagementClient(**parameters)
        client.config.add_user_agent("pid-eb7927c8-dd66-43e1-b0cf-c346a422063")


```

>This has to be done for each client, there is no global static configuration (You may choose to do a client factory to be sure every client is doing it. 
>[Additional reference information](https://github.com/Azure/azure-cli/blob/7402fb2c20be2cdbcaa7bdb2eeb72b7461fbcc30/src/azure-cli-core/azure/cli/core/commands/client_factory.py#L70-L79)

How to tag a deployment using the Azure PowerShell or the Azure CLI:
If you deploy resources via AzurePowerShell you can append your GUID by using the following method:

```

[Microsoft.Azure.Common.Authentication.AzureSession]::ClientFactory.AddUserAgent("pid-eb7927c8-dd66-43e1-b0cf-c346a422063")


```

To append your GUID when using the Azure CLI, set the AZURE_HTTP_USER_AGENT environment variable.  You can set this within the scope of a script or to set globally, for shell scope use:

```

export AZURE_HTTP_USER_AGENT='pid-eb7927c8-dd66-43e1-b0cf-c346a422063'


```

## Registering GUIDs/Offers

In order for the GUID to be included in our tracking it must be registered.  

All registrations for template GUIDs will be done via the Azure Marketplace Cloud Partner Portal  (CPP). 

Apply to [Azure Marketplace](http://aka.ms/listonazuremarketplace) today and get access to the Cloud Partner portal.

*	Partners will be required to [have a profile in CPP](https://docs.microsoft.com/en-us/azure/marketplace/become-publisher) and encouraged to list the offer in Azure Marketplace or AppSource 
*	Partners will be able to register multiple GUIDs 
*	Partners will also be able to register a GUID for the non-Marketplace solution templates/offers

Once you have added the GUID to your template or in the user agent and registered the GUID in the CPP all deployments will be tracked. 

## Verification of GUID Deployment 

After you have modified your template and performed a test deployment, you can use the following PowerShell script to retrieve the resrouces that were deployed and tagged. 

You can use it to verify if the GUID has been added to your Azure Resource Manager template successfully. It does not apply to Azure Resource Manager API deployment.

Log in to Azure and select the subscription that contains the deployment you want to verify before running the script. It must be run within the subscription context of the deployment.

The GUID and resourceGroup name of the deployment are required params.

You can find the original script [here](https://gist.github.com/bmoore-msft/ae6b8226311014d6e7177c5127c7eba1#file-verify-deploymentguid-ps1).

```

Param(
    [GUID][Parameter(Mandatory=$true)]$guid,
    [string][Parameter(Mandatory=$true)]$resourceGroupName'
)

#get the correlationId of the pid deployment

$correlationId = (Get-AzureRmResourceGroupDeployment -ResourceGroupName 
$resourceGroupName -Name "pid-$guid").correlationId

#find all deployments with that correlationId

$deployments = Get-AzureRmResourceGroupDeployment -ResourceGroupName $resourceGroupName | Where-Object{$_.correlationId -eq $correlationId}

#find all deploymentOperations in a deployment by name (since PowerShell does not surface outputResources on the deployment or correlationId on the deploymentOperation)

foreach ($deployment in $deployments){

#get deploymentOperations by deploymentName and then the resourceId for any create operation

($deployment | Get-AzureRmResourceGroupDeploymentOperation | Where-Object{$_.properties.provisioningOperation -eq "Create" -and $_.properties.targetResource.resourceType -ne "Microsoft.Resources/deployments"}).properties.targetResource.id

}


```

## Guidance on creating GUIDS

A GUID (globally unique identifier) is a 32 hexadecimal digit unique reference number. To create a GUID a partner should use a GUID generator to create their GUIDs for tracking.  There are multiple [online GUID generators](https://www.bing.com/search?q=guid%20generator&qs=n&form=QBRE&sp=-1&ghc=2&pq=guid%20g&sc=8-6&sk=&cvid=0BAFAFCD70B34E4296BB97FBFA3E1B4E) you can use.

Partners are encouraged to create a unique GUID for every Offer and distribution channel.  For example, a partner who has two solutions and both are deployed via a template and are available in both the Azure Marketplace and on GitHub.  The partner should create 4 GUIDS:

*	Offer A in Azure Marketplace 
*	Offer A on GitHub
*	Offer B in Azure Marketplace 
*	Offer B on GitHub

Reporting will be done by partner (Microsoft Partner ID) and GUID. 

You can also choose to track GUIDs at a more granular level i.e. SKU (where SKUs are variants of an offer).

## Guidance on privacy and data collection

Partners should provide messaging to inform their customers that deployments that include the Azure Resource Manager GUID tracking will allow Microsoft to report the Azure usage associated with those deployments to the partner.  Some example language is below. In addition, partners should ensure this aligns with their own data privacy and collection policies including options for customers to be excluded from track: 

**For Azure Resource Manager template deployments**

When deploying this template Microsoft will be able identify the installation of our [insert partner software name] software with the Azure resources deployed.  Microsoft will be able to correlate the Azure resources used to support the software.  Microsoft collects this information to provide the best experiences with their products and to operate their business. This data will be collected and governed by Microsoft’s privacy policies, which can be found at https://www.microsoft.com/en-us/trustcenter. 

**For SDK or API deployments**

When deploying our software Microsoft will be able identify the installation of our [insert partner software name] software with the Azure resources deployed.  Microsoft will be able to correlate the Azure resources used to support the software.  Microsoft collects this information to provide the best experiences with their products and to operate their business. This data will be collected and governed by Microsoft’s privacy policies, which can be found at https://www.microsoft.com/en-us/trustcenter.

## Support

For assistance, please follow the below steps:
 1. Visit the support page located at [go.microsoft.com/fwlink/?linkid=844975](https://go.microsoft.com/fwlink/?linkid=844975)
 2.	For issues with usage association - select Problem type: **Marketplace Onboarding** and Category: **Other** and then click **Start Request.** 
>[!Note]
>For issues on accessing Azure Marketplace Cloud Partner Portal - select Problem type: **Marketplace Onboarding** and Category: **Access Problem** and then click **Start Request.**
 3. Complete the required fields on the next page and click **Continue.**
 4. Complete the free text fields on the next page.  
 


 
>[!Important] 
>Fill in Incident title with **“ISV Usage Tracking”** and describe your issue in detail in the large free text field after.  Complete the rest of the form and click **Submit**.

## FAQs

**What is the benefit of adding the GUID to the template?**

Microsoft will provide partners with a view of customer deployments of their templates and insights on their influenced usage.  Both Microsoft and the partner can also use this information to drive closer engagement between partners and the Microsoft sales teams and a more consistent view of an individual partner’s impact on Azure growth. 

**Who can add a GUID to a template?**

The tracking resource is intended to connect the partner’s solution to the customers Azure usage.  The usage data is tied to a partner’s Microsoft Partner Network identity (MPN ID) and reporting will be available to partners in the Cloud Partner Portal (CPP).  

**Once a GUID has been added can it be changed?**
 
Yes, a customer or implementation partner may customize the template and could change or remove the GUID. We suggest that partners proactively describe the role of the resource and GUID to their customers and partners to prevent removal or edits to the tracking GUID.  Note that changing the GUID will only affect new, not existing, deployments and resources.

**When will reporting be available?**

A beta version of reporting should be available soon.  Reporting will be integrated into the Cloud Partner Portal (CPP).

**Can I track templates deployed from a non-Microsoft repository like GitHub?**

Yes, as long as the GUID is present when the template is deployed, usage will be tracked.  
Partners is required to have a profile in Cloud Partner Portal to register the related templates published outside of the Azure Marketplace. 

**Is there a difference if the template is deployed from Azure Marketplace versus other repositories like GitHub?**

Yes, partner who publish offers in the Azure Marketplace may receive more detailed data on deployments from the Azure Marketplace.  Partners will benefit from exposing their offer to customers on the Azure Marketplace portal and in the Azure management portal. Offers in the Azure marketplace also generate leads for the partner.

**What if I create a custom template for an individual customer engagement?**

You are still welcome to add the GUID to the template.  If you use an existing GUID that was registered it will be included in reporting.  If you create a new GUID you will need to register the new GUID to get it included in tracking.

**Does the customer receive reporting as well?**

Customers are currently able to track their usage of individual resources or customer defined resource groups within the Azure management portal.   

**Is this similar to the Digital Partner of Record (DPOR)?**

This new method of connecting the deployment and usage to a partner’s solution is intended to provide a mechanism to link a partner solution to Azure usage.  DPOR is intended to associate a consulting (Systems Integrator) or management (Managed Service Provider) partner with a customer’s Azure subscription.   


## Next steps
Visit [Go to Market Services](https://partner.microsoft.com/reach-customers/gtm) to learn more about Marketplace services. 

---
